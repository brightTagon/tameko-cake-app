<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sweet Bakery Shop</title>
    <style>
        /* CSS ‡∏Ñ‡∏á‡πÄ‡∏î‡∏¥‡∏° ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ */
        body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(to right, #fff1eb, #ffe4e1); margin: 0; padding-bottom: 50px; }
        header { background: #068223; color: white; text-align: center; padding: 20px; font-size: 24px; }
        .container { width: 90%; max-width: 500px; margin: 30px auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        h2 { text-align: center; color: #ff6f61; }
        label { display: block; margin-top: 15px; font-weight: bold; }
        input, select, textarea { width: 100%; padding: 12px; margin-top: 5px; border-radius: 8px; border: 1px solid #ddd; box-sizing: border-box; font-size: 14px; }
        textarea { resize: none; height: 80px; }
        button { margin-top: 20px; padding: 15px; width: 100%; background: #ff6f61; color: white; border: none; border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; }
        button:hover { background: #ff3b2f; }
        .total-box { background: #fff0f3; padding: 15px; border-radius: 10px; margin-top: 20px; }
        .total { font-size: 20px; font-weight: bold; color: #d63384; }
        .preview img { width: 100%; max-height: 220px; object-fit: cover; border-radius: 10px; margin-top: 10px; border: 2px solid #eee; }
        .qr-section { margin-top: 20px; text-align: center; background: #f8f9fa; padding: 15px; border-radius: 10px; border: 1px dashed #ccc; }
        .qr-section img { width: 180px; border-radius: 5px; }
        .success { color: #155724; background: #d4edda; padding: 15px; border-radius: 8px; margin-top: 15px; font-weight: bold; white-space: pre-line; display: none; }
        .urgent-tag { color: #856404; background: #fff3cd; padding: 10px; border-radius: 8px; font-size: 13px; margin-top: 10px; text-align: center; }
    </style>
</head>
<body>

<header>ü•ê Sweet Bakery Shop üç∞</header>

<div class="container">
    <h2>‡∏™‡∏±‡πà‡∏á‡∏Ç‡∏ô‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>

    <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ã‡∏ï‡∏Ç‡∏ô‡∏°</label>
    <select id="setSelect" onchange="updateUI()">
        <option value="25">Set A - 25 ‡∏ö‡∏≤‡∏ó</option>
        <option value="30">Set B - 30 ‡∏ö‡∏≤‡∏ó</option>
        <option value="35">Set C - 35 ‡∏ö‡∏≤‡∏ó</option>
    </select>

    <div class="preview">
        <img id="setImage" src="static/A.jfif">
    </div>

    <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó/‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</label>
    <select id="categorySelect" onchange="updateItems()"></select>
    <select id="itemSelect" style="margin-top: 10px;"></select>

    <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label>
    <input type="number" id="quantity" value="1" min="1" oninput="calculateTotal()">

    <div class="total-box">
        <div class="total">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°: <span id="total">25</span> ‡∏ö‡∏≤‡∏ó</div>
        <div style="font-size: 13px; color: #666; margin-top: 5px;">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£: <span id="orderDate"></span></div>
    </div>

    <hr style="margin: 25px 0; border: 0; border-top: 1px solid #eee;">

    <label>üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
    <input type="date" id="deliveryDate">
    
    <label>‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
    <select id="deliveryTime">
        <option value="09:00 - 11:00">‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ä‡πâ‡∏≤ (09:00 - 11:00)</option>
        <option value="11:00 - 14:00">‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á (11:00 - 14:00)</option>
        <option value="14:00 - 17:00">‡∏ä‡πà‡∏ß‡∏á‡∏ö‡πà‡∏≤‡∏¢ (14:00 - 17:00)</option>
        <option value="17:00 - 19:00">‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏¢‡πá‡∏ô (17:00 - 19:00)</option>
    </select>

    <label>üìù ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏ñ‡∏∂‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label>
    <textarea id="customerNote" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÑ‡∏°‡πà‡∏£‡∏±‡∏ö‡∏´‡∏ß‡∏≤‡∏ô‡πÄ‡∏•‡∏¢, ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤..., ‡∏ù‡∏≤‡∏Å‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡∏õ‡πâ‡∏≠‡∏°‡∏¢‡∏≤‡∏°"></textarea>

    <div class="urgent-tag">
        üí° ‡∏™‡∏±‡πà‡∏á‡∏´‡∏•‡∏±‡∏á 08:00 ‡∏ô. ‡∏à‡∏∞‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î‡∏Ñ‡∏∑‡∏≠‡∏ß‡∏±‡∏ô‡∏°‡∏∞‡∏£‡∏∑‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö
    </div>

    <div class="qr-section">
        <h3>üì≤ ‡∏™‡πÅ‡∏Å‡∏ô‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h3>
        <img src="static/qrcode.jfif" alt="QR Code">
        <p style="font-size: 12px;">‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ: ‡πÄ‡∏ö‡πÄ‡∏Å‡∏≠‡∏£‡∏µ‡πà‡∏´‡∏ß‡∏≤‡∏ô‡πÄ‡∏à‡∏µ‡πä‡∏¢‡∏ö</p>
    </div>

    <label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á / ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏î‡∏£‡∏±‡∏ö</label>
    <textarea id="location" placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô"></textarea>

    <label>üñºÔ∏è ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏•‡∏¥‡∏õ</label>
    <input type="file" id="paymentSlip" accept="image/*">

    <button onclick="submitOrder()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>

    <div class="success" id="successMessage"></div>
</div>

<script>
const setSelect = document.getElementById("setSelect");
const categorySelect = document.getElementById("categorySelect");
const itemSelect = document.getElementById("itemSelect");
const quantity = document.getElementById("quantity");
const total = document.getElementById("total");
const setImage = document.getElementById("setImage");
const deliveryInput = document.getElementById("deliveryDate");

// ===== 3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ß‡∏±‡∏ô‡∏£‡∏±‡∏ö‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î (‡∏Å‡∏é‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ/‡∏°‡∏∞‡∏£‡∏∑‡∏ô ‡∏ï‡∏±‡∏î‡∏£‡∏≠‡∏ö 8 ‡πÇ‡∏°‡∏á) =====
const now = new Date();
const currentHour = now.getHours();
let minDate = new Date();

if (currentHour < 8) {
    // ‡∏Å‡πà‡∏≠‡∏ô 8 ‡πÇ‡∏°‡∏á‡πÄ‡∏ä‡πâ‡∏≤ -> ‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏ß‡∏±‡∏ô‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ
    minDate.setDate(now.getDate() + 1);
} else {
    // ‡∏´‡∏•‡∏±‡∏á 8 ‡πÇ‡∏°‡∏á‡πÄ‡∏ä‡πâ‡∏≤ -> ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡∏°‡∏∞‡∏£‡∏∑‡∏ô
    minDate.setDate(now.getDate() + 2);
}

const minDateStr = minDate.toISOString().split("T")[0];
deliveryInput.min = minDateStr;
deliveryInput.value = minDateStr;

document.getElementById("orderDate").innerText = now.toLocaleDateString("th-TH");

// ===== ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ =====
function updateUI() {
    const val = setSelect.value;
    setImage.src = `static/${val == "25" ? "A" : val == "30" ? "B" : "C"}.jfif`;
    
    categorySelect.innerHTML = "";
    if (val == "30") {
        categorySelect.innerHTML = '<option value="b1">B.1 ‡πÄ‡∏Ñ‡πâ‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏¥‡πà‡∏°</option><option value="b2">B.2 ‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á</option>';
    } else if (val == "35") {
        categorySelect.innerHTML = `
            <option value="c1">C.1 ‡∏Ç‡∏ô‡∏°‡πÑ‡∏Ç‡πà‡πÑ‡∏™‡πâ‡∏Ñ‡∏£‡∏µ‡∏° 2 ‡∏ä‡∏¥‡πâ‡∏ô</option>
            <option value="c2">C.2 ‡πÄ‡∏Ñ‡πâ‡∏Å‡πÑ‡∏Ç‡πà 2 ‡∏ä‡∏¥‡πâ‡∏ô</option>
            <option value="c4">C.4 ‡πÄ‡∏Ñ‡πâ‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏¥‡πà‡∏° + ‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á</option>`;
    } else {
        categorySelect.innerHTML = '<option value="a1">‡πÄ‡∏ã‡∏ï‡∏õ‡∏Å‡∏ï‡∏¥ A</option>';
    }
    updateItems();
    calculateTotal();
}

function updateItems() {
    itemSelect.innerHTML = "";
    let items = (setSelect.value == "25") ? ["‡πÄ‡∏Ñ‡πâ‡∏Å‡πÑ‡∏Ç‡πà‡πÄ‡∏ô‡∏¢‡∏™‡∏î", "‡πÄ‡∏Ñ‡πâ‡∏Å‡πÑ‡∏Ç‡πà‡∏ä‡πá‡∏≠‡∏Ñ‡∏ä‡∏¥‡∏û", "‡πÄ‡∏Ñ‡πâ‡∏Å‡πÑ‡∏Ç‡πà‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏´‡∏≠‡∏°"] : ["‡πÄ‡∏°‡∏ô‡∏π‡∏£‡∏ß‡∏°‡∏ï‡∏≤‡∏°‡πÄ‡∏ã‡∏ï‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å"];
    items.forEach(it => {
        let op = document.createElement("option");
        op.textContent = it;
        itemSelect.appendChild(op);
    });
}

function calculateTotal() {
    total.innerText = (setSelect.value * quantity.value).toLocaleString();
}

function submitOrder() {
    const location = document.getElementById("location").value;
    const slip = document.getElementById("paymentSlip").files[0];
    const note = document.getElementById("customerNote").value;
    const time = document.getElementById("deliveryTime").value;

    if (!location || !slip) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡∏∞‡πÅ‡∏ô‡∏ö‡∏™‡∏•‡∏¥‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö");
        return;
    }

    const successBox = document.getElementById("successMessage");
    successBox.style.display = "block";
    successBox.innerText = `üéâ ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!
    ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö: ${new Date(deliveryInput.value).toLocaleDateString("th-TH")}
    ‡πÄ‡∏ß‡∏•‡∏≤: ${time}
    ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ${note || "-"}
    ‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤...`;
    
    // ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏•‡∏á‡πÑ‡∏õ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
    successBox.scrollIntoView({ behavior: 'smooth' });
}

// ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
updateUI();
</script>

</body>
</html>